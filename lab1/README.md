# ЛАБА 1

## 1) Система завершима (терминируема).

Введём функцию от слова $w$:

$L(w) = \left|\\{(i,j)\mid i<j,\ w[i]=\texttt{a},\ w[j]=\texttt{c}\\}\right|$,

то есть количество пар «a стоит левее c».

* $\texttt{abbc} \to \texttt{cbba}$: внутри блока на LHS есть ровно одна пара $a\ldots c$, на RHS — ноль. Значит $L$ уменьшается на 1.
* $\texttt{accb} \to \texttt{bcca}$: на LHS $a$ левее двух $c$ (2 пары), на RHS $a$ уже правее $c$ (0 пар). $L$ уменьшается на 2.
* $\texttt{baac} \to \texttt{caab}$: на LHS два $a$ левее $c$ (2 пары), на RHS $c$ слева, пар нет. $L$ уменьшается на 2.
* $\texttt{cb} \to \texttt{bc}$: в правиле нет буквы $a$, относительное положение всех $a$ и $c$ вне блока не меняется ⇒ $L$ не меняется.
* $\texttt{ca} \to \texttt{ab}$: буква $c$ исчезает. Все пары вида $a\ldots c$ с этим $c$ пропадают. Значит $L$ не возрастает (на самом деле уменьшается на число $a$ слева от этого $c$).

Итого:

* на правилах длины 4 $L$ строго убывает;
* на $\texttt{cb}\to\texttt{bc}$ $L$ сохраняется;
* на $\texttt{ca}\to\texttt{ab}$ $L$ не возрастает (обычно убывает).

Теперь исключаем возможность бесконечного переписывания:

1. Если бесконечно часто применять $\texttt{ca}\to\texttt{ab}$, то число $c$ в слове бесконечно убывает — невозможно (оно неотрицательно). Пусть
   $C(w) = \left|\\{\mathtt{c}\text{ в }w\\}\right|$.
2. Если в «хвосте» оставлять только шаги $\texttt{cb}\to\texttt{bc}$, то введём ещё одну величину $M(w)=\text{вхождений подслова }\texttt{cb}$. Каждый такой шаг уменьшает $M$ на 1, значит бесконечно так делать нельзя.
3. Поэтому в любой гипотетически бесконечной цепочке неизбежно бесконечно много раз сработает одно из правил длины 4. Но каждое из них строго уменьшает $L$, а $L$ — целое неотрицательное. Противоречие.

Итого получается функция $E(w) = \big(L(w), C(w), M(w)\big)$.


## 2) Число классов эквивалентности по НФ — бесконечно

Все правила сохраняют длину, значит слова разных длин не сводятся. Уже семейство $b^n$ ($n\ge1$) даёт бесконечно много попарно различных нормальных форм.

## 3) Локальная конфлюэнтность — нет

Покажем неоднозначно сходящуюся критическую пару:

$$
u=\texttt{accb},\quad u\to v=\texttt{bcca}\ (\text{R2}),\quad u\to w=\texttt{acbc}\ (\text{R4}).
$$

Дальше:

$$
v=\texttt{bcca}\ \Rightarrow\ \texttt{bcab}\ \Rightarrow\ \texttt{babb},\qquad
w=\texttt{acbc}\ \Rightarrow\ \texttt{abcc}.
$$

$\texttt{babb}$ и $\texttt{abcc}$ — НФ и не равны, значит локальная конфлюэнтность не выполняется.

## 4) Пополняемость по Кнуту–Бендиксу

Возьмём пару из прошлого пункта для каждого $n\ge1$ на слове

$$
w_n=\texttt{acc}\texttt{b}^n,
$$

давая расходящуюся пару

$$
\texttt{ab}^n\texttt{cc}\quad\text{vs}\quad \texttt{b a b}^{\,n+1}
$$

в нормальных формах исходной TRS. Поэтому K–B будет бесконечно добавлять правила

$$ 
\texttt{ab}^n\texttt{cc}\ \to\ \texttt{b a b}^{\,n+1}\qquad(n\ge1)
$$


Вывод: процедура Кнута–Бендикса не завершится конечным набором правил.

## 5) Инварианты

1. Длина слова.
2. Число букв a.
3. Сумма букв b и c.
4. (второй инвариант, третий инвариант).
5. (число букв b - число букв c) mod 2
6. Перемножение комутирующих матриц: M_a = A, M_b = M_c = X..
7. Чётность числа нечётных (x)-блоков. Заменяем буквы b и c на x и считаем чётность числа нечётных (x)-блоков.
